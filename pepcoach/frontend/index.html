<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PepFit Pro</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="logo">PepFit Pro</div>
    <nav>
      <button data-tab="clientes" class="btn active">Clientes</button>
      <button data-tab="planes" class="btn">Planes</button>
      <button data-tab="ai" class="btn">Agente IA</button>
    </nav>
    <button id="btnLogout" class="btn" style="display: none;">Cerrar sesión</button>
  </header>

  <section id="auth" class="panel">
    <h2>Acceso</h2>
    <form id="loginForm">
      <input type="email" id="email" placeholder="Email" required>
      <input type="password" id="password" placeholder="Contraseña" required>
      <button type="submit">Entrar</button>
      <button type="button" id="btnShowRegister">¿No tienes cuenta? Regístrate</button>
    </form>
    <form id="registerForm" class="hidden">
      <input type="email" id="regEmail" placeholder="Email" required>
      <input type="password" id="regPassword" placeholder="Contraseña" required>
      <button type="submit">Registrar</button>
      <button type="button" id="btnShowLogin">¿Ya tienes cuenta? Entra</button>
    </form>
  </section>

  <main class="container hidden">
    <section id="clientes" class="panel">
      <div class="panel-left">
        <h2>Clientes</h2>
        <ul id="listaClientes"></ul>
      </div>
      <div id="detalleCliente" class="panel-right">
        Selecciona un cliente para ver detalles.
      </div>
    </section>

    <section id="planes" class="panel hidden">
      <h2>Generador de Planes</h2>
      <label>Cliente <select id="selCliente"></select></label>
      <label>Duración<select id="selDuracion"><option value="7">7 días</option><option value="28">28 días</option></select></label>
      <label>Enfoque<select id="selEnfoque"><option value="equilibrado">Equilibrado</option><option value="lowcarb">Low-carb</option></select></label>
      <button id="btnGenerarPlan" class="btn primary">Generar plan</button>
      <div id="planRender"></div>
      <button id="btnGenerarPdf" class="btn">Generar PDF y enviar</button>
    </section>

    <section id="ai" class="panel hidden">
      <h2>Agente IA — PepFit Pro (Gemini)</h2>
      <div id="chatLog" class="chat"></div>
      <form id="chatForm"><input id="chatInput" placeholder="Pregunta sobre nutrición o entreno..." /><button>Enviar</button></form>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
